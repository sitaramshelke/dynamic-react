This code uses [react-live](https://github.com/FormidableLabs/react-live), just the preview part. 
It loads all the dependencies in the final bundle. Then at the run time just defines the scope and fetches the user's react code to be rendered.